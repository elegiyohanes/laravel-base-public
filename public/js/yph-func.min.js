!function(t){"use strict";t.fn.confirmOnClick=function(t){var e=t.text;this.on("click",function(){return confirm(e)})},t.fn.horizontalScrollMousewheel=function(){this[0]&&this.mousewheel(function(e,n){var o=document.querySelectorAll(".horizontal-scroll"),r=t(".horizontal-scroll").index(this);o[r].scrollWidth>o[r].clientWidth&&(e.preventDefault(),this.scrollLeft-=60*n,this.scrollLeft<o[r].scrollWidth-o[r].clientWidth&&this.scrollLeft)})},t.fn.toArrUrl=function(){var e=[];return this.each(function(){var n=t(this).find("span").text(),o=t(this).attr("href"),r={name:n,url:o};e.push(r)}),e.sort(function(t,e){return t.name>e.name?1:-1}),e},t.fn.newTypeahead=function(e){var n,o=e.source;n=e.formParent?t("."+n):this.parents("form").first(),this.typeahead({source:o,valueKey:"name",items:8,menu:'<ul class="typeahead dropdown-menu dropdown-menu-search-result" role="listbox"></ul>',item:'<a class="dropdown-item dropdown-item-search-result" href="#" role="option">anu <div>ini</div></a>',updater:function(e){return t(n).attr("action",e.url),e.name},minLength:0,showHintOnFocus:!0,selectOnBlur:!1,scrollHeight:0,autoSelect:!1,fitToElement:!0,afterSelect:function(t){},afterEmptySelect:t.noop,addItem:!1,delay:0}).on("keyup",this,function(e){13==e.keyCode&&""!=t(n).attr("action")&&t(n).submit()}),t(document).on("click",".dropdown-item-search-result",function(){""!=t(n).attr("action")&&t(n).submit()}),t(document).on("mouseout",".dropdown-menu-search-result",function(){t(".dropdown-item-search-result").removeClass("active")}),t(n).on("submit",function(e){e.preventDefault(),""!=t(this).attr("action")&&(window.location=t(this).attr("action"))})},t.fn.savePreference=function(e){var n=this,o=t(".preference-url").attr("href")+"/post";t.ajaxSetup({headers:{"X-CSRF-TOKEN":t('meta[name="csrf-token"]').attr("content")}});var r=function(e,n){t.ajax({type:"POST",context:this,url:o,data:n||e.data,success:function(t){console.log("pref "+t.stat+": "+(jQuery.isEmptyObject(t.msg)?"no changes":JSON.stringify(t.msg)))}})};e.docReady?t(document).ready(function(){n[0]&&(r(e),e.afterSave&&e.afterSave(),e.reloadAfterSave&&location.reload(!0))}):e.onClick&&this.on("click",function(n){n.preventDefault();var o=t(this),a={},i=e.data;t.each(i,function(t,e){var n=t,r=e(o);a[n]=r}),r(e,a),e.afterSave&&e.afterSave(o),e.reloadAfterSave&&location.reload(!0)})}}(jQuery);