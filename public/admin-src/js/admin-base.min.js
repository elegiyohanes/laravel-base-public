!function(t){"use strict";t.fn.confirmOnClick=function(t){var e=t.text;this.on("click",function(){return confirm(e)})},t.fn.horizontalScrollMousewheel=function(){this[0]&&this.mousewheel(function(e,n){var r=document.querySelectorAll(".horizontal-scroll"),o=t(".horizontal-scroll").index(this);r[o].scrollWidth>r[o].clientWidth&&(e.preventDefault(),this.scrollLeft-=60*n,this.scrollLeft<r[o].scrollWidth-r[o].clientWidth&&this.scrollLeft)})},t.fn.toArrUrl=function(){var e=[];return this.each(function(){var n=t(this).find("span").text(),r=t(this).attr("href"),o={name:n,url:r};e.push(o)}),e.sort(function(t,e){return t.name>e.name?1:-1}),e},t.fn.newTypeahead=function(e){var n,r=e.source;n=e.formParent?t("."+n):this.parents("form").first(),this.typeahead({source:r,valueKey:"name",items:8,menu:'<ul class="typeahead dropdown-menu dropdown-menu-search-result" role="listbox"></ul>',item:'<a class="dropdown-item dropdown-item-search-result" href="#" role="option">anu <div>ini</div></a>',updater:function(e){return t(n).attr("action",e.url),e.name},minLength:0,showHintOnFocus:!1,selectOnBlur:!1,scrollHeight:0,autoSelect:!1,fitToElement:!0,afterSelect:function(e){return t(n).attr("action",e.url),e.name},afterEmptySelect:t.noop,addItem:!1,delay:0}).on("keyup",this,function(e){13==e.keyCode&&""!=t(n).attr("action")&&t(n).submit()}),t(document).on("click",".dropdown-item-search-result",function(){""!=t(n).attr("action")&&t(n).submit()}),t(document).on("mouseout",".dropdown-menu-search-result",function(e){e.preventDefault(),t(".dropdown-item-search-result").removeClass("active")}),t(document).on("mouseenter",".dropdown-menu-search-result",function(t){t.preventDefault()}),t(document).on("mousedown",".dropdown-menu-search-result",function(t){t.preventDefault()}),t(document).on("mouseenter",".dropdown-item-search-result",function(t){t.preventDefault()}),t(document).on("mousedown",".dropdown-item-search-result",function(t){t.preventDefault()}),t(n).on("submit",function(e){e.preventDefault(),""!=t(this).attr("action")&&(window.location=t(this).attr("action"))})},t.fn.savePreference=function(e){var n=this,r=t(".preference-url").attr("href")+"/post";t.ajaxSetup({headers:{"X-CSRF-TOKEN":t('meta[name="csrf-token"]').attr("content")}});var o=function(e,n){t.ajax({type:"POST",context:this,url:r,data:n||e.data,success:function(t){console.log("pref "+t.stat+": "+(jQuery.isEmptyObject(t.msg)?"no changes":JSON.stringify(t.msg)))}})};e.docReady?t(document).ready(function(){n[0]&&(o(e),e.afterSave&&e.afterSave(),e.reloadAfterSave&&location.reload(!0))}):e.onClick&&this.on("click",function(n){n.preventDefault();var r=t(this),a={},i=e.data;t.each(i,function(t,e){var n=t,o=e(r);a[n]=o}),o(e,a),e.afterSave&&e.afterSave(r),e.reloadAfterSave&&location.reload(!0)})},t.fn.alertCloseAnimation=function(){var e=this;t(e)[0]&&t(e).each(function(){var t=e.parents(".alert").first().outerHeight();e.parents(".alert").first().attr("style","height: "+t+"px;")}),t(e).on("click",function(t){t.preventDefault();var n=e.parents(".alert").first().outerHeight();e.parents(".alert").first().attr("style","height: "+n+"px;"),e.parents(".alert").first().addClass("closing"),setTimeout(function(){e.parents(".alert").first().remove()},150)})}}(jQuery);